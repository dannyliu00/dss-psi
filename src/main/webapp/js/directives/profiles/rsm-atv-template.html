<dsm-button></dsm-button>
<div class="container-full">
    <div class="panel panel-primary">
        <div class="panel-heading">
            <h3 class="panel-title">Profile Details</h3>
        </div>
        <div class="panel-body">
            <div class="col-md-12">
                <div id="activeObjectsTable_processing" class="dataTables_processing" style="visibility: hidden;">Processing...</div>
                <table datatable dt-options="dtOptions" id="activeObjectsTable"
                       class="table table-condensed table-bordered table-striped table-default table-available-items dataTable"
                       aria-describedby="activeObjectsTable_info">
                    <thead>
                    <tr role="row">
                        <th class="" role="columnheader" tabindex="0" aria-controls="activeObjectsTable" >
                            Order Segment
                        </th>
                        <th ng-repeat="period in profile.periods" class="text-center" role="columnheader" tabindex="0" aria-controls="activeObjectsTable" >
                            {{period.name}}<br/>Min - Target - Max<br/>Qty - DSM Qty - RSM Qty
                        </th>
                    </tr>
                    </thead>
                    <tbody role="alert" aria-live="polite" aria-relevant="all">
                    <tr ng-repeat="key in distinctOS" class="odd">
                        <td class="">{{key}}</td>
                        <td ng-repeat="os in orderSegments | filter:{name: key}:true" class="text-center"><span>{{os.recMinimum}} - {{os.recommended}} - {{os.recMaximum}}<br/>
                                <input tabindex="0"
                                       ng-model="os.actual"
                                       class="text-center numberInput"
                                       type="number"
                                       min="0"
                                       max="999"
                                       numbers-only
                                       ng-disabled="os.actual != null" ></span>&nbsp;&nbsp;&nbsp;&nbsp;<span>
                                 <input tabindex="0"
                                       ng-model="os.dsmQty"
                                       class="text-center numberInput"
                                       type="number"
                                       min="0"
                                       max="999"
                                       numbers-only
                                       ng-disabled="os.dsmQty != null" ></span>&nbsp;&nbsp;&nbsp;&nbsp;<span>
                                 <input tabindex="0"
                                       ng-class="{noncompliant: os.adminQty < os.recMinimum || os.adminQty > os.recMaximum}"
                                       ng-model="os.adminQty"
                                       class="ui-spinner-input text-center compliant numberInput"
                                       min="0"
                                       max="999"
                                       numbers-only
                                       spinner-input ></span>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
<!-- Data table summary and Page Controls -->
<div class="container-full">
    <div class="panel panel-primary">
        <div class="panel-heading">
            <h3 class="panel-title">Profile Totals</h3>
        </div>
        <div class="panel-body">
        	<div class="col-md-12">
                <div id="activeObjectsTable_processing" class="dataTables_processing" style="visibility: hidden;">Processing...</div>
                <table datatable dt-options="{bPaginate: false,bInfo: false,bSort: false,bFilter: false}" id="activeObjectsTable"
                       class="table table-condensed table-bordered table-default table-available-items dataTable"
                       aria-describedby="activeObjectsTable_info">
                    <thead>
	                    <tr role="row" >
	                       <th ng-repeat="period in profile.periods" class="text-center" role="columnheader" tabindex="0" aria-controls="activeObjectsTable" >
			                        <span class="col-xs-6">{{period.name}}</span><span class="col-xs-6">{{period.name}}</span><br/>
			                        <span class="col-xs-6">Min - Target - Max</span><span class="col-xs-6" >Qty</span>
			                </th>
	                    </tr>
                    </thead>
                    <tbody role="alert" aria-live="polite" aria-relevant="all">
	                    <td ng-repeat="period in profile.periods" class="text-center">
	                        <span class="col-xs-6">{{period.recMinimum}} - {{period.recommended}} - {{period.recMaximum}}</span><span ng-class="{noncomplianttotal: getPeriodTotal(period.code) < period.recMinimum || getPeriodTotal(period.code) > period.recMaximum}" class="compliant col-xs-6" >{{getPeriodTotal(period.code)}}</span>
	                    </td>
                    </tbody>
                </table>
            </div>
        </div>
   	</div>
</div>
<email-entry></email-entry>
<dsm-button></dsm-button>
